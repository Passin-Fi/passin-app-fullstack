-   using mongodb to be database of this backend side
-   when user create order, store the order in db:

    -   payment_id (from external payment gateway): unique required
    -   payment_token (from external payment gateway): required
    -   smart_wallet_address (null or string): if null here, means after payment completed, backend need create smart wallet coresponding to passkeys in order response
    -   passkey_credential_id: string (from passkey)
    -   passkey_public_key: string (from passkey)
    -   pool_id: string (from order line)
    -   token_symbol: string (from order line)
    -   amount_token: number (from order line)
    -   min_amount_token_receive: number (from order line)
    -   price_tolerance_percent: number (from order line)
    -   status (pending, completed_pay, failed_pay, creating_wallet, create_wallet_fail , sending_token_to_smartwallet, send_token_to_smartwallet_fail , completed): string
    -   fiat_currency: string
    -   price_fiat: number
    -   created at
    -   updated at

-   when payment gateway call webhook to notify payment completed:
    -   find the order by payment_id
    -   if order not found, return error
    -   if order found, check the payment status by calling payment gateway api
        -   if payment not completed, return nothing or await call next time interval 30s
        -   if payment completed, update order status to completed_pay
        -   then create smart wallet by calling smart wallet api, get back smart wallet address
            -   if create smart wallet fail, update order status to create_wallet_fail, return error
            -   if create smart wallet success, update order status to sending_token_to_smartwallet, update smart_wallet_address in order
            -   then send token to smart wallet by calling token transfer api
                -   if send token to smart wallet fail, update order status to send_token_to_smartwallet_fail, return error
                -   if send token to smart wallet success, update order status to completed
                -   return success
    -
